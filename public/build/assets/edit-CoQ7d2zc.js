import{m as b,j as e,L as f,$ as v}from"./app-CjuahyR9.js";import{A as _,D as y,a as N,b as C}from"./app-layout-HZ0uyt1A.js";import{H as D}from"./heading-08kiRYJ1.js";import{L as a,I as l,a as o}from"./label-DCuHoDdP.js";import"./app-logo-D2Yr61WK.js";import"./app-logo-icon-wjTck_Zm.js";import"./button-J7eyA3kg.js";import"./index-BdmYejUw.js";import"./index-bdzFJfi5.js";import"./index-C8BLUIzt.js";import"./createLucideIcon-Qt732k2S.js";function I({service:i,form_fields:p,selected_form_fields:m}){const{data:t,setData:r,put:u,processing:d,errors:n}=b({id:i.id,name:i.name,description:i.description,price:i.price,discount:i.discount??0,discount_type:i.discount_type??"fixed",discount_expires_at:i.discount_expires_at??"",form_fields:m||[]}),x=[{title:"Services",href:"/services"},{title:`Edit: ${i.name}`,href:`/services/${i.id}/edit`}];function h(s,c){c?r("form_fields",[...t.form_fields,s]):r("form_fields",t.form_fields.filter(g=>g!==s))}const j=s=>{s.preventDefault(),u(route("services.update",i.id))};return e.jsxs(_,{breadcrumbs:x,children:[e.jsx(f,{title:`Edit ${i.name}`}),e.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[e.jsx(D,{title:"Edit service",description:""}),e.jsx(v,{href:"/services",className:"rounded-md bg-blue-600 px-4 py-2 text-white shadow transition hover:bg-blue-700",children:"Back to all services"})]}),e.jsxs("form",{onSubmit:j,className:"",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 rounded bg-neutral-100 dark:bg-neutral-800 p-6 shadow-md md:grid-cols-3",children:[e.jsxs("div",{className:"space-y-4 border-b border-neutral-300 p-2 md:col-span-2 md:border-r-2 md:border-b-0 ",children:[e.jsxs("div",{children:[e.jsx(a,{htmlFor:"name",children:"Name"}),e.jsx(l,{id:"name",type:"text",value:t.name,onChange:s=>r("name",s.target.value),disabled:d,placeholder:"Service name"}),e.jsx(o,{message:n.name,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"description",children:"Description"}),e.jsx(l,{id:"description",type:"text",value:t.description,onChange:s=>r("description",s.target.value),disabled:d,placeholder:"Service description"}),e.jsx(o,{message:n.description,className:"mt-2"})]}),e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx(a,{children:"Form fields"}),e.jsxs(y,{children:[e.jsxs(N,{className:"rounded border-2 px-2 py-1 text-start",children:["Choose form fields (",t.form_fields.length," selected)"]}),e.jsx(C,{className:"rounded border-2 border-neutral-50 bg-neutral-100 dark:bg-neutral-700 p-2 shadow",children:p.map(s=>e.jsxs("label",{className:"flex gap-2 py-1",children:[e.jsx("input",{type:"checkbox",checked:t.form_fields.includes(s.id),onChange:c=>h(s.id,c.target.checked)}),e.jsx("span",{children:s.label})]},s.id))})]})]})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(a,{htmlFor:"price",children:"Price (â‚¬)"}),e.jsx(l,{id:"price",type:"number",value:t.price,onChange:s=>r("price",parseFloat(s.target.value)),disabled:d,placeholder:"Service price"}),e.jsx(o,{message:n.price,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"discount",children:"Discount"}),e.jsx(l,{id:"discount",type:"number",value:t.discount,onChange:s=>r("discount",parseFloat(s.target.value)),disabled:d,placeholder:"Discount amount"}),e.jsx(o,{message:n.discount,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"discount_type",children:"Discount Type"}),e.jsxs("select",{id:"discount_type",value:t.discount_type,onChange:s=>r("discount_type",s.target.value),disabled:d,className:"w-full rounded border px-2 py-1",children:[e.jsx("option",{value:"fixed",children:"Fixed"}),e.jsx("option",{value:"percentage",children:"Percentage"})]}),e.jsx(o,{message:n.discount_type,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"discount_expires_at",children:"Discount Expires At"}),e.jsx(l,{id:"discount_expires_at",type:"date",value:t.discount_expires_at,onChange:s=>r("discount_expires_at",s.target.value),disabled:d}),e.jsx(o,{message:n.discount_expires_at,className:"mt-2"})]})]})})]}),e.jsx("div",{className:"flex justify-end md:col-span-3",children:e.jsx("button",{type:"submit",disabled:d,className:"rounded bg-green-600 px-4 py-2 text-white hover:bg-green-700",children:"Update"})})]})]})}export{I as default};
