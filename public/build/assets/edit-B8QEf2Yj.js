import{m as g,j as e,L as f,$ as v}from"./app-uxVy0ZAD.js";import{A as y,D as _,a as N,b as w}from"./app-layout-DJKP-unw.js";import{L as a,I as c,a as o}from"./label-B3L6k83n.js";import"./app-logo-BH96zwuE.js";import"./app-logo-icon-19uDDWWv.js";import"./button-390QVlET.js";import"./index-B77Cnoud.js";import"./index-5S5Y7ukq.js";import"./index-DfALnP5z.js";import"./createLucideIcon-Czl9Kpej.js";function B({service:i,form_fields:p,selected_form_fields:m}){const{data:t,setData:d,put:x,processing:r,errors:n}=g({id:i.id,name:i.name,description:i.description,price:i.price,discount:i.discount??0,discount_type:i.discount_type??"fixed",discount_expires_at:i.discount_expires_at??"",form_fields:m||[]}),u=[{title:"Services",href:"/services"},{title:`Edit: ${i.name}`,href:`/services/${i.id}/edit`}];function h(s,l){l?d("form_fields",[...t.form_fields,s]):d("form_fields",t.form_fields.filter(b=>b!==s))}const j=s=>{s.preventDefault(),x(route("services.update",i.id))};return e.jsxs(y,{breadcrumbs:u,children:[e.jsx(f,{title:`Edit ${i.name}`}),e.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:"Edit Service"}),e.jsx(v,{href:"/services",className:"rounded-md bg-blue-600 px-4 py-2 text-white shadow transition hover:bg-blue-700",children:"Back to all services"})]}),e.jsxs("form",{onSubmit:j,className:"",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 rounded bg-white p-6 shadow-md md:grid-cols-3",children:[e.jsxs("div",{className:"space-y-4 border-b border-gray-300 pb-4 md:col-span-2 md:border-r-2 md:border-b-0 md:pb-0",children:[e.jsxs("div",{children:[e.jsx(a,{htmlFor:"name",children:"Name"}),e.jsx(c,{id:"name",type:"text",value:t.name,onChange:s=>d("name",s.target.value),disabled:r,placeholder:"Service name"}),e.jsx(o,{message:n.name,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"description",children:"Description"}),e.jsx(c,{id:"description",type:"text",value:t.description,onChange:s=>d("description",s.target.value),disabled:r,placeholder:"Service description"}),e.jsx(o,{message:n.description,className:"mt-2"})]}),e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx(a,{children:"Form fields"}),e.jsxs(_,{children:[e.jsxs(N,{className:"rounded border-2 border-gray-200 px-2 py-1 text-start",children:["Choose form fields (",t.form_fields.length," selected)"]}),e.jsx(w,{className:"rounded border-2 border-gray-200 bg-white p-2 shadow",children:p.map(s=>e.jsxs("label",{className:"flex gap-2 py-1",children:[e.jsx("input",{type:"checkbox",checked:t.form_fields.includes(s.id),onChange:l=>h(s.id,l.target.checked)}),e.jsx("span",{children:s.label})]},s.id))})]})]})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(a,{htmlFor:"price",children:"Price (â‚¬)"}),e.jsx(c,{id:"price",type:"number",value:t.price,onChange:s=>d("price",parseFloat(s.target.value)),disabled:r,placeholder:"Service price"}),e.jsx(o,{message:n.price,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"discount",children:"Discount"}),e.jsx(c,{id:"discount",type:"number",value:t.discount,onChange:s=>d("discount",parseFloat(s.target.value)),disabled:r,placeholder:"Discount amount"}),e.jsx(o,{message:n.discount,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"discount_type",children:"Discount Type"}),e.jsxs("select",{id:"discount_type",value:t.discount_type,onChange:s=>d("discount_type",s.target.value),disabled:r,className:"w-full rounded border px-2 py-1",children:[e.jsx("option",{value:"fixed",children:"Fixed"}),e.jsx("option",{value:"percentage",children:"Percentage"})]}),e.jsx(o,{message:n.discount_type,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"discount_expires_at",children:"Discount Expires At"}),e.jsx(c,{id:"discount_expires_at",type:"date",value:t.discount_expires_at,onChange:s=>d("discount_expires_at",s.target.value),disabled:r}),e.jsx(o,{message:n.discount_expires_at,className:"mt-2"})]})]})})]}),e.jsx("div",{className:"flex justify-end md:col-span-3",children:e.jsx("button",{type:"submit",disabled:r,className:"rounded bg-green-600 px-4 py-2 text-white hover:bg-green-700",children:"Update"})})]})]})}export{B as default};
