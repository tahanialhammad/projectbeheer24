import{m as h,j as e,L as g}from"./app-QBy8aI-a.js";import{A as j,D as f,a as _,b as y}from"./app-layout-BY_MTtdc.js";import{L as n,I as d}from"./label-DRXSw1ao.js";import"./app-logo-B2zQUS3k.js";import"./app-logo-icon-BVKsSSrB.js";import"./button-BUOAhzcH.js";import"./index-VpTpkE61.js";import"./index-B_ag7k6D.js";import"./index-DCwvsg6r.js";import"./createLucideIcon-DnTS87r2.js";function A({service:i,form_fields:a,selected_form_fields:c}){const{data:t,setData:r,put:l,processing:p}=h({id:i.id,name:i.name,description:i.description,price:i.price,discount:i.discount??0,discount_type:i.discount_type??"fixed",discount_expires_at:i.discount_expires_at??"",form_fields:c||[]});function u(s,o){o?r("form_fields",[...t.form_fields,s]):r("form_fields",t.form_fields.filter(x=>x!==s))}const m=s=>{s.preventDefault(),l(route("services.update",i.id))};return e.jsxs(j,{children:[e.jsx(g,{title:`Edit ${i.name}`}),e.jsxs("form",{onSubmit:m,className:"grid grid-cols-1 gap-6 rounded bg-white p-6 shadow md:grid-cols-3",children:[e.jsxs("div",{className:"space-y-4 md:col-span-2",children:[e.jsx(n,{htmlFor:"name",children:"Name"}),e.jsx(d,{id:"name",value:t.name,onChange:s=>r("name",s.target.value)}),e.jsx(n,{htmlFor:"description",children:"Description"}),e.jsx(d,{id:"description",value:t.description,onChange:s=>r("description",s.target.value)}),e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx(n,{children:"Form fields"}),e.jsxs(f,{children:[e.jsxs(_,{className:"rounded border-2 border-gray-200 px-2 py-1 text-start",children:["Choose form fields (",t.form_fields.length," selected)"]}),e.jsx(y,{className:"rounded border-2 border-gray-200 bg-white p-2 shadow",children:a.map(s=>e.jsxs("label",{className:"flex gap-2 py-1",children:[e.jsx("input",{type:"checkbox",checked:t.form_fields.includes(s.id),onChange:o=>u(s.id,o.target.checked)}),e.jsx("span",{children:s.label})]},s.id))})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(n,{htmlFor:"price",children:"Price (â‚¬)"}),e.jsx(d,{id:"price",type:"number",value:t.price,onChange:s=>r("price",parseFloat(s.target.value))}),e.jsx(n,{htmlFor:"discount",children:"Discount"}),e.jsx(d,{id:"discount",type:"number",value:t.discount,onChange:s=>r("discount",parseFloat(s.target.value))}),e.jsx(n,{htmlFor:"discount_type",children:"Discount Type"}),e.jsxs("select",{id:"discount_type",value:t.discount_type,onChange:s=>r("discount_type",s.target.value),className:"w-full rounded border px-2 py-1",children:[e.jsx("option",{value:"fixed",children:"Fixed"}),e.jsx("option",{value:"percentage",children:"Percentage"})]}),e.jsx(n,{htmlFor:"discount_expires_at",children:"Discount Expires At"}),e.jsx(d,{id:"discount_expires_at",type:"date",value:t.discount_expires_at,onChange:s=>r("discount_expires_at",s.target.value)})]}),e.jsx("div",{className:"flex justify-end md:col-span-3",children:e.jsx("button",{type:"submit",disabled:p,className:"rounded bg-green-600 px-4 py-2 text-white hover:bg-green-700",children:"Update"})})]})]})}export{A as default};
