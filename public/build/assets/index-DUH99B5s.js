var N={},K,M;function cn(){return M||(M=1,K=n=>{if(Object.prototype.toString.call(n)!=="[object Object]")return!1;const _=Object.getPrototypeOf(n);return _===null||_===Object.prototype}),K}var j;function on(){return j||(j=1,function(n){var _=cn();n.BLOCKS=void 0,function(t){t.DOCUMENT="document",t.PARAGRAPH="paragraph",t.HEADING_1="heading-1",t.HEADING_2="heading-2",t.HEADING_3="heading-3",t.HEADING_4="heading-4",t.HEADING_5="heading-5",t.HEADING_6="heading-6",t.OL_LIST="ordered-list",t.UL_LIST="unordered-list",t.LIST_ITEM="list-item",t.HR="hr",t.QUOTE="blockquote",t.EMBEDDED_ENTRY="embedded-entry-block",t.EMBEDDED_ASSET="embedded-asset-block",t.EMBEDDED_RESOURCE="embedded-resource-block",t.TABLE="table",t.TABLE_ROW="table-row",t.TABLE_CELL="table-cell",t.TABLE_HEADER_CELL="table-header-cell"}(n.BLOCKS||(n.BLOCKS={})),n.INLINES=void 0,function(t){t.ASSET_HYPERLINK="asset-hyperlink",t.EMBEDDED_ENTRY="embedded-entry-inline",t.EMBEDDED_RESOURCE="embedded-resource-inline",t.ENTRY_HYPERLINK="entry-hyperlink",t.HYPERLINK="hyperlink",t.RESOURCE_HYPERLINK="resource-hyperlink"}(n.INLINES||(n.INLINES={})),n.MARKS=void 0,function(t){t.BOLD="bold",t.ITALIC="italic",t.UNDERLINE="underline",t.CODE="code",t.SUPERSCRIPT="superscript",t.SUBSCRIPT="subscript",t.STRIKETHROUGH="strikethrough"}(n.MARKS||(n.MARKS={}));var d=function(t,i){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,r){a.__proto__=r}||function(a,r){for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(a[e]=r[e])},d(t,i)};function R(t,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");d(t,i);function a(){this.constructor=t}t.prototype=i===null?Object.create(i):(a.prototype=i.prototype,new a)}function O(t,i,a){if(a||arguments.length===2)for(var r=0,e=i.length,u;r<e;r++)(u||!(r in i))&&(u||(u=Array.prototype.slice.call(i,0,r)),u[r]=i[r]);return t.concat(u||Array.prototype.slice.call(i))}typeof SuppressedError=="function"&&SuppressedError;var l,y=[n.BLOCKS.PARAGRAPH,n.BLOCKS.HEADING_1,n.BLOCKS.HEADING_2,n.BLOCKS.HEADING_3,n.BLOCKS.HEADING_4,n.BLOCKS.HEADING_5,n.BLOCKS.HEADING_6,n.BLOCKS.OL_LIST,n.BLOCKS.UL_LIST,n.BLOCKS.HR,n.BLOCKS.QUOTE,n.BLOCKS.EMBEDDED_ENTRY,n.BLOCKS.EMBEDDED_ASSET,n.BLOCKS.EMBEDDED_RESOURCE,n.BLOCKS.TABLE],I=[n.BLOCKS.PARAGRAPH,n.BLOCKS.HEADING_1,n.BLOCKS.HEADING_2,n.BLOCKS.HEADING_3,n.BLOCKS.HEADING_4,n.BLOCKS.HEADING_5,n.BLOCKS.HEADING_6,n.BLOCKS.OL_LIST,n.BLOCKS.UL_LIST,n.BLOCKS.HR,n.BLOCKS.QUOTE,n.BLOCKS.EMBEDDED_ENTRY,n.BLOCKS.EMBEDDED_ASSET,n.BLOCKS.EMBEDDED_RESOURCE],U=[n.BLOCKS.TABLE,n.BLOCKS.TABLE_ROW,n.BLOCKS.TABLE_CELL,n.BLOCKS.TABLE_HEADER_CELL],w=[n.BLOCKS.HR,n.BLOCKS.EMBEDDED_ENTRY,n.BLOCKS.EMBEDDED_ASSET,n.BLOCKS.EMBEDDED_RESOURCE],H=(l={},l[n.BLOCKS.OL_LIST]=[n.BLOCKS.LIST_ITEM],l[n.BLOCKS.UL_LIST]=[n.BLOCKS.LIST_ITEM],l[n.BLOCKS.LIST_ITEM]=I,l[n.BLOCKS.QUOTE]=[n.BLOCKS.PARAGRAPH],l[n.BLOCKS.TABLE]=[n.BLOCKS.TABLE_ROW],l[n.BLOCKS.TABLE_ROW]=[n.BLOCKS.TABLE_CELL,n.BLOCKS.TABLE_HEADER_CELL],l[n.BLOCKS.TABLE_CELL]=[n.BLOCKS.PARAGRAPH,n.BLOCKS.UL_LIST,n.BLOCKS.OL_LIST],l[n.BLOCKS.TABLE_HEADER_CELL]=[n.BLOCKS.PARAGRAPH],l),b=[n.BLOCKS.HEADING_1,n.BLOCKS.HEADING_2,n.BLOCKS.HEADING_3,n.BLOCKS.HEADING_4,n.BLOCKS.HEADING_5,n.BLOCKS.HEADING_6],Y=O([n.BLOCKS.PARAGRAPH],b,!0),V=[n.BLOCKS.DOCUMENT,n.BLOCKS.PARAGRAPH,n.BLOCKS.HEADING_1,n.BLOCKS.HEADING_2,n.BLOCKS.HEADING_3,n.BLOCKS.HEADING_4,n.BLOCKS.HEADING_5,n.BLOCKS.HEADING_6,n.BLOCKS.OL_LIST,n.BLOCKS.UL_LIST,n.BLOCKS.LIST_ITEM,n.BLOCKS.HR,n.BLOCKS.QUOTE,n.BLOCKS.EMBEDDED_ENTRY,n.BLOCKS.EMBEDDED_ASSET,n.INLINES.HYPERLINK,n.INLINES.ENTRY_HYPERLINK,n.INLINES.ASSET_HYPERLINK,n.INLINES.EMBEDDED_ENTRY,"text"],k=[n.MARKS.BOLD,n.MARKS.CODE,n.MARKS.ITALIC,n.MARKS.UNDERLINE],q={nodeType:n.BLOCKS.DOCUMENT,data:{},content:[{nodeType:n.BLOCKS.PARAGRAPH,data:{},content:[{nodeType:"text",value:"",marks:[],data:{}}]}]};function m(t,i){for(var a=0,r=Object.keys(t);a<r.length;a++){var e=r[a];if(i===t[e])return!0}return!1}function z(t){return m(n.INLINES,t.nodeType)}function Q(t){return m(n.BLOCKS,t.nodeType)}function W(t){return t.nodeType==="text"}var $=Object.freeze({__proto__:null,isBlock:Q,isInline:z,isText:W}),C=function(t){var i=t.path,a=t.property,r=t.typeName,e=t.value;return{details:'The type of "'.concat(a,'" is incorrect, expected type: ').concat(r),name:"type",path:i.toArray(),type:r,value:e}},X=function(t){var i=t.min,a=t.value,r=t.path;return{name:"size",min:i,path:r.toArray(),details:"Size must be at least ".concat(i),value:a}},J=function(t){var i=t.max,a=t.value,r=t.path;return{name:"size",max:i,path:r.toArray(),details:"Size must be at most ".concat(i),value:a}},F=function(t){var i=t.expected,a=t.value,r=t.path;return{details:"Value must be one of expected values",name:"in",expected:O([],i,!0).sort(),path:r.toArray(),value:a}},Z=function(t){var i=t.property,a=t.path;return{details:'The property "'.concat(i,'" is not expected'),name:"unexpected",path:a.toArray()}},x=function(t){var i=t.property,a=t.path;return{details:'The property "'.concat(i,'" is required here'),name:"required",path:a.toArray()}},S=function(){function t(i,a){var r=this;this.obj=i,this.path=a,this._errors=[],this.catch=function(){for(var e,u=[],E=0;E<arguments.length;E++)u[E]=arguments[E];(e=r._errors).push.apply(e,u)},this.exists=function(e){return e in r.obj?!0:(r.catch(x({property:e,path:r.path.of(e)})),!1)},this.object=function(e){var u,E=e?r.obj[e]:r.obj;if(e&&!r.exists(e))return!1;if(_(E))return!0;var o=e?r.path.of(e):r.path,c=(u=e??r.path.last())!==null&&u!==void 0?u:"value";return r.catch(C({typeName:"Object",property:c,path:o,value:E})),!1},this.string=function(e){var u=r.obj[e];return e&&!r.exists(e)?!1:typeof u=="string"?!0:(r.catch(C({typeName:"String",property:e,path:r.path.of(e),value:u})),!1)},this.number=function(e,u){var E=r.obj[e];return u&&!(e in r.obj)?!0:r.exists(e)?typeof E=="number"&&!Number.isNaN(E)?!0:(r.catch(C({typeName:"Number",property:e,path:r.path.of(e),value:E})),!1):!1},this.array=function(e){var u=r.obj[e];return e&&!r.exists(e)?!1:Array.isArray(u)?!0:(r.catch(C({typeName:"Array",property:e,path:r.path.of(e),value:u})),!1)},this.enum=function(e,u){var E=r.obj[e];return typeof E=="string"&&u.includes(E)?!0:(r.catch(F({expected:u,value:E,path:r.path.of(e)})),!1)},this.empty=function(e){if(!r.array(e))return!1;var u=r.obj[e];return u.length===0?!0:(r.catch(J({max:0,value:u,path:r.path.of(e)})),!1)},this.minLength=function(e,u){if(!r.array(e))return!1;var E=r.obj[e];return E.length>=u?!0:(r.catch(X({min:u,value:E,path:r.path.of(e)})),!1)},this.noAdditionalProperties=function(e){var u=Object.keys(r.obj).sort().filter(function(E){return!e.includes(E)});return u.forEach(function(E){return r.catch(Z({property:E,path:r.path.of(E)}))}),u.length===0},this.each=function(e,u){if(r.array(e)){var E=r.obj[e],o=!1;E.forEach(function(c,T){if(!o){var v=u(c,r.path.of(e).of(T));v.length>0&&(o=!0),r.catch.apply(r,v)}})}}}return Object.defineProperty(t.prototype,"errors",{get:function(){var i=this,a=function(r){return JSON.stringify({details:r.details,path:r.path})};return this._errors.filter(function(r,e){return i._errors.findIndex(function(u){return a(r)===a(u)})===e})},enumerable:!1,configurable:!0}),t}(),B=[],s=function(){function t(i,a){this.contentRule=i,this.validateData=a}return t.prototype.assert=function(i,a){var r,e,u=new S(i,a);if(!u.object())return u.errors;u.noAdditionalProperties(["nodeType","data","content"]);var E=Array.isArray(this.contentRule)?{nodeTypes:this.contentRule}:this.contentRule(i,a),o=E.nodeTypes,c=E.min,T=c===void 0?0:c;if(o.length===0&&T>0)throw new Error("Invalid content rule. Cannot have enforce a 'min' of ".concat(T," with no nodeTypes"));if(u.minLength("content",T),o.length===0?u.empty("content"):u.each("content",function(En,Ln){var D=new S(En,Ln);return D.object()&&D.enum("nodeType",o),D.errors}),u.object("data")){var v=(e=(r=this.validateData)===null||r===void 0?void 0:r.call(this,i.data,a.of("data")))!==null&&e!==void 0?e:[];u.catch.apply(u,v)}return u.errors},t}(),nn=function(t){R(i,t);function i(a,r){var e=t.call(this,r,function(u,E){return e.assertLink(u,E)})||this;return e.linkType=a,e.assertLink=function(u,E){var o=new S(u,E);if(o.object("target")){var c=new S(u.target.sys,E.of("target").of("sys"));c.object()&&(c.enum("type",[e.type]),c.enum("linkType",[e.linkType]),e.type==="Link"?(c.string("id"),c.noAdditionalProperties(["type","linkType","id"])):e.type==="ResourceLink"&&(c.string("urn"),c.noAdditionalProperties(["type","linkType","urn"]))),o.catch.apply(o,c.errors)}return o.noAdditionalProperties(["target"]),o.errors},e.type=e.linkType.startsWith("Contentful:")?"ResourceLink":"Link",e}return i}(s),tn=function(t){R(i,t);function i(){var a=t.call(this,["text"],function(r,e){return a.assertLink(r,e)})||this;return a.assertLink=function(r,e){var u=new S(r,e);return u.string("uri"),u.noAdditionalProperties(["uri"]),u.errors},a}return i}(s),f=function(t,i){return new s(t,i)},h=function(t,i){return new nn(t,i)},rn=function(){function t(i){i===void 0&&(i=[]);var a=this;this.path=i,this.of=function(r){return new t(O(O([],a.path,!0),[r],!1))},this.isRoot=function(){return a.path.length===0},this.last=function(){return a.path[a.path.length-1]},this.toArray=function(){return a.path}}return t}();function en(t,i){var a=new S(t,i);return a.object()&&(a.noAdditionalProperties(["nodeType","data","value","marks"]),a.object("data"),a.each("marks",function(r,e){var u=new S(r,e);return u.object()&&u.string("type"),u.errors}),a.string("value")),a.errors}var L,A=f(O(O([],Object.values(n.INLINES),!0),["text"],!1).sort()),P=f([n.BLOCKS.LIST_ITEM]),p=h("Entry",B),G=f(function(){return{nodeTypes:[n.BLOCKS.PARAGRAPH],min:1}},function(t,i){var a=new S(t,i);return a.noAdditionalProperties(["colspan","rowspan"]),a.number("colspan",!0),a.number("rowspan",!0),a.errors}),an=(L={},L[n.BLOCKS.DOCUMENT]=f(y),L[n.BLOCKS.PARAGRAPH]=A,L[n.BLOCKS.HEADING_1]=A,L[n.BLOCKS.HEADING_2]=A,L[n.BLOCKS.HEADING_3]=A,L[n.BLOCKS.HEADING_4]=A,L[n.BLOCKS.HEADING_5]=A,L[n.BLOCKS.HEADING_6]=A,L[n.BLOCKS.QUOTE]=f(H[n.BLOCKS.QUOTE]),L[n.BLOCKS.EMBEDDED_ENTRY]=p,L[n.BLOCKS.EMBEDDED_ASSET]=h("Asset",B),L[n.BLOCKS.EMBEDDED_RESOURCE]=h("Contentful:Entry",B),L[n.BLOCKS.HR]=f(B),L[n.BLOCKS.OL_LIST]=P,L[n.BLOCKS.UL_LIST]=P,L[n.BLOCKS.LIST_ITEM]=f(O([],I,!0).sort()),L[n.BLOCKS.TABLE]=f(function(){return{nodeTypes:[n.BLOCKS.TABLE_ROW],min:1}}),L[n.BLOCKS.TABLE_ROW]=f(function(){return{nodeTypes:[n.BLOCKS.TABLE_CELL,n.BLOCKS.TABLE_HEADER_CELL],min:1}}),L[n.BLOCKS.TABLE_CELL]=G,L[n.BLOCKS.TABLE_HEADER_CELL]=G,L[n.INLINES.HYPERLINK]=new tn,L[n.INLINES.EMBEDDED_ENTRY]=p,L[n.INLINES.EMBEDDED_RESOURCE]=h("Contentful:Entry",B),L[n.INLINES.ENTRY_HYPERLINK]=h("Entry",["text"]),L[n.INLINES.ASSET_HYPERLINK]=h("Asset",["text"]),L[n.INLINES.RESOURCE_HYPERLINK]=h("Contentful:Entry",["text"]),L);function g(t,i){if(t.nodeType==="text")return en(t,i);var a=an[t.nodeType].assert(t,i);if(a.length>0)return a;var r=new S(t,i);return r.each("content",function(e,u){return g(e,u)}),r.errors}var un=function(t){var i=new rn,a=new S(t,i);return a.object()&&a.enum("nodeType",[n.BLOCKS.DOCUMENT]),a.errors.length>0?a.errors:g(t,i)};n.CONTAINERS=H,n.EMPTY_DOCUMENT=q,n.HEADINGS=b,n.LIST_ITEM_BLOCKS=I,n.TABLE_BLOCKS=U,n.TEXT_CONTAINERS=Y,n.TOP_LEVEL_BLOCKS=y,n.V1_MARKS=k,n.V1_NODE_TYPES=V,n.VOID_BLOCKS=w,n.helpers=$,n.validateRichTextDocument=un}(N)),N}export{on as r};
